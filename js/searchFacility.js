function ajax(e,t){fetch(e).then(function(e){return e.json()}).then(function(e){t(e)})}function createHandler(e){return function(){sessionStorage.setItem("url",e.url)}}let searchBox,pokemonList,searchBtn,pokedex;function loadPokedex(e){pokedex=e.results,console.log(pokedex)}function searchFilter(){for(;pokemonList.firstChild;)pokemonList.removeChild(pokemonList.firstChild);const e=searchBox.value.toLowerCase();if(e.Length<2)return;const t=pokedex.filter(function(t){return t.name.toLowerCase().search(e)>-1}),o=document.createDocumentFragment();t.forEach(function(e){let t=e.url.match(/[^https:\/\/pokeapi.co\/api\/v\/pokemon\/]{1}\d*/g);pokemonName=e.name.charAt(0).toUpperCase()+e.name.slice(1);const n=document.createElement("li");n.setAttribute("class","listCard");const r=document.createElement("a");r.setAttribute("href","details.html"),r.addEventListener("click",createHandler(e),!1);const c=document.createElement("img");c.setAttribute("src",`https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/${t[1]}.png`),r.textContent=`${t[1]}. ${pokemonName}`,n.appendChild(r),r.appendChild(c),o.appendChild(n)}),pokemonList.appendChild(o)}function init(){ajax("https://pokeapi.co/api/v2/pokemon?limit=898",loadPokedex),searchBox=document.querySelector("#search-box"),searchBtn=document.querySelector("#search-btn"),searchBox.focus(),pokemonList=document.querySelector("#pokemon-list"),searchBtn.addEventListener("click",searchFilter),searchBox.addEventListener("keyup",searchFilter)}window.addEventListener("load",init,!1);